<script lang="ts">
import { auth } from '$lib/stores/auth';

const authState = $derived($auth);

// æ¨¡æ‹Ÿæ•°æ®
const stats = [
	{ label: 'æ€»æ–‡ç« ', value: '156', icon: 'ğŸ“', color: 'bg-blue-500', trend: '+12%' },
	{ label: 'æ€»è®¿é—®é‡', value: '12.5K', icon: 'ğŸ‘ï¸', color: 'bg-green-500', trend: '+8%' },
	{ label: 'è¯„è®ºæ•°', value: '892', icon: 'ğŸ’¬', color: 'bg-purple-500', trend: '+23%' },
	{ label: 'ç”¨æˆ·æ•°', value: '2,341', icon: 'ğŸ‘¥', color: 'bg-orange-500', trend: '+5%' }
];

const recentPosts = [
	{ title: 'SvelteKit 5 æ–°ç‰¹æ€§è¯¦è§£', views: 1234, comments: 45, date: '2024-03-15' },
	{ title: 'æ·±å…¥ç†è§£ TypeScript', views: 892, comments: 32, date: '2024-03-14' },
	{ title: 'Tailwind CSS æœ€ä½³å®è·µ', views: 756, comments: 28, date: '2024-03-13' },
	{ title: 'Web æ€§èƒ½ä¼˜åŒ–æŒ‡å—', views: 2103, comments: 67, date: '2024-03-12' }
];
</script>

<div class="space-y-6">
	<!-- æ¬¢è¿å¡ç‰‡ -->
	{#if authState.user}
		<div class="bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-6 text-white">
			<h2 class="text-2xl font-bold mb-2">
				æ¬¢è¿å›æ¥, {authState.user.username}! ğŸ‘‹
			</h2>
			<p class="text-emerald-100">
				ä»Šå¤©æ˜¯ä¸ªç¾å¥½çš„ä¸€å¤©,è®©æˆ‘ä»¬å¼€å§‹å·¥ä½œå§!
			</p>
		</div>
	{/if}

	<!-- ç»Ÿè®¡å¡ç‰‡ -->
	<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
		{#each stats as stat}
			<div class="bg-white rounded-xl p-6  border border-slate-200 hover:shadow-md transition-shadow">
				<div class="flex items-start justify-between">
					<div>
						<p class="text-sm text-slate-600 mb-1">{stat.label}</p>
						<p class="text-3xl font-bold text-slate-900">{stat.value}</p>
						<p class="text-sm text-green-600 mt-2">{stat.trend}</p>
					</div>
					<div class="w-12 h-12 {stat.color} rounded-lg flex items-center justify-center text-2xl">
						{stat.icon}
					</div>
				</div>
			</div>
		{/each}
	</div>

	<!-- æœ€è¿‘æ–‡ç«  -->
	<div class="bg-white rounded-xl  border border-slate-200">
		<div class="p-6 border-b border-slate-200">
			<h3 class="text-lg font-bold text-slate-900">æœ€è¿‘æ–‡ç« </h3>
		</div>
		<div class="overflow-x-auto">
			<table class="w-full">
				<thead class="bg-slate-50 border-b border-slate-200">
					<tr>
						<th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
							æ ‡é¢˜
						</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
							æµè§ˆé‡
						</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
							è¯„è®º
						</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
							æ—¥æœŸ
						</th>
					</tr>
				</thead>
				<tbody class="divide-y divide-slate-200">
					{#each recentPosts as post}
						<tr class="hover:bg-slate-50 transition-colors">
							<td class="px-6 py-4 whitespace-nowrap">
								<div class="text-sm font-medium text-slate-900">{post.title}</div>
							</td>
							<td class="px-6 py-4 whitespace-nowrap">
								<div class="text-sm text-slate-600">{post.views}</div>
							</td>
							<td class="px-6 py-4 whitespace-nowrap">
								<div class="text-sm text-slate-600">{post.comments}</div>
							</td>
							<td class="px-6 py-4 whitespace-nowrap">
								<div class="text-sm text-slate-600">{post.date}</div>
							</td>
						</tr>
					{/each}
				</tbody>
			</table>
		</div>
	</div>

	<!-- å¿«æ·æ“ä½œ -->
	<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
		<a
			href="/admin/posts"
			class="bg-white rounded-xl p-6  border border-slate-200 hover:shadow-md hover:border-emerald-300 transition-all group"
		>
			<div class="text-3xl mb-3">ğŸ“</div>
			<h4 class="text-lg font-bold text-slate-900 mb-2">åˆ›å»ºæ–‡ç« </h4>
			<p class="text-sm text-slate-600">å¼€å§‹å†™ä¸€ç¯‡æ–°æ–‡ç« </p>
			<div class="mt-4 text-emerald-600 text-sm font-medium group-hover:translate-x-1 transition-transform">
				å‰å¾€ â†’
			</div>
		</a>

		<a
			href="/admin/categories"
			class="bg-white rounded-xl p-6  border border-slate-200 hover:shadow-md hover:border-teal-300 transition-all group"
		>
			<div class="text-3xl mb-3">ğŸ·ï¸</div>
			<h4 class="text-lg font-bold text-slate-900 mb-2">åˆ†ç±»ç®¡ç†</h4>
			<p class="text-sm text-slate-600">ç®¡ç†æ–‡ç« åˆ†ç±»</p>
			<div class="mt-4 text-teal-600 text-sm font-medium group-hover:translate-x-1 transition-transform">
				å‰å¾€ â†’
			</div>
		</a>

		<a
			href="/admin/settings"
			class="bg-white rounded-xl p-6  border border-slate-200 hover:shadow-md hover:border-emerald-300 transition-all group"
		>
			<div class="text-3xl mb-3">âš™ï¸</div>
			<h4 class="text-lg font-bold text-slate-900 mb-2">ç³»ç»Ÿè®¾ç½®</h4>
			<p class="text-sm text-slate-600">é…ç½®ç³»ç»Ÿå‚æ•°</p>
			<div class="mt-4 text-emerald-600 text-sm font-medium group-hover:translate-x-1 transition-transform">
				å‰å¾€ â†’
			</div>
		</a>
	</div>
</div>
